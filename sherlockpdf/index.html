<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SherlockPDF â€” Fast, Private PDF Tools</title>
  <meta name="description" content="Merge and split PDFs right in your browser. Your files never leave your device. Free, fast, and private.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible+Mono:wght@400;700&family=Geist:wght@400;500;600;700&family=Geist+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

  <!-- Noise Overlay -->
  <svg class="noise-overlay" aria-hidden="true">
    <filter id="noise-filter">
      <feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch" />
    </filter>
    <rect width="100%" height="100%" filter="url(#noise-filter)" />
  </svg>

  <!-- Navigation -->
  <nav class="nav">
    <div class="container nav__inner">
      <a href="index.html" class="nav__brand">
        <svg class="nav__logo" viewBox="0 0 400 80" aria-label="Sherlock Labs">
          <defs>
            <linearGradient id="brand-grad" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="#FB6182"/>
              <stop offset="100%" stop-color="#e8496a"/>
            </linearGradient>
          </defs>
          <g transform="translate(8, 8)">
            <circle cx="28" cy="28" r="22" fill="none" stroke="url(#brand-grad)" stroke-width="4"/>
            <line x1="44" y1="44" x2="60" y2="60" stroke="url(#brand-grad)" stroke-width="4" stroke-linecap="round"/>
            <polyline points="18,22 30,28 18,34" fill="none" stroke="#4ADE80" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
            <rect x="34" y="22" width="3" height="12" rx="1" fill="#ebebeb" opacity="0.85"/>
          </g>
          <g transform="translate(80, 0)">
            <text x="0" y="52" font-family="'SF Mono', 'Fira Code', monospace" font-size="20" font-weight="600" fill="#4ADE80" letter-spacing="1">$</text>
            <text x="22" y="52" font-family="'SF Mono', 'Fira Code', monospace" font-size="28" letter-spacing="1">
              <tspan font-weight="700" fill="#ebebeb">Sherlock</tspan>
              <tspan font-weight="400" fill="#FB6182"> Labs</tspan>
            </text>
          </g>
        </svg>
        <span class="nav__product-label">PDF</span>
      </a>
      <div class="nav__right" id="nav-right">
        <button class="nav__sign-in" id="nav-sign-in" type="button">Sign in</button>
        <span class="nav__pro-badge" id="nav-pro-badge" hidden>Pro</span>
        <button class="nav__manage-link" id="nav-manage-link" type="button" hidden>Manage</button>
      </div>
    </div>
  </nav>

  <main>

    <!-- === HERO + TOOL SELECTOR === -->
    <section class="hero container" id="hero-section">
      <span class="hero__badge">Sherlock Labs</span>
      <h1 class="hero__headline">Work with PDFs. Fast, private, free.</h1>
      <p class="hero__subhead">Your files never leave your browser. No uploads, no servers, no accounts required.</p>

      <div class="tool-selector">
        <!-- Merge Card -->
        <button class="tool-selector__card" id="merge-card" type="button" role="button" tabindex="0" aria-label="Merge PDFs tool">
          <svg class="tool-selector__icon" viewBox="0 0 40 40" aria-hidden="true">
            <rect x="4" y="2" width="20" height="28" rx="3" ry="3"/>
            <rect x="16" y="10" width="20" height="28" rx="3" ry="3"/>
            <line x1="20" y1="30" x2="20" y2="20"/>
            <polyline points="15 25 20 20 25 25"/>
          </svg>
          <div class="tool-selector__name">Merge PDFs</div>
          <div class="tool-selector__desc">Combine multiple files into one document.</div>
        </button>

        <!-- Split Card -->
        <button class="tool-selector__card" id="split-card" type="button" role="button" tabindex="0" aria-label="Split PDF tool">
          <svg class="tool-selector__icon" viewBox="0 0 40 40" aria-hidden="true">
            <rect x="6" y="2" width="28" height="36" rx="3" ry="3"/>
            <line x1="6" y1="20" x2="34" y2="20"/>
            <line x1="20" y1="10" x2="20" y2="4"/>
            <polyline points="16 8 20 4 24 8"/>
            <line x1="20" y1="30" x2="20" y2="36"/>
            <polyline points="16 32 20 36 24 32"/>
          </svg>
          <div class="tool-selector__name">Split PDF</div>
          <div class="tool-selector__desc">Extract individual pages from a PDF.</div>
        </button>
      </div>
    </section>

    <!-- === PRO UNLOCK (email input) === -->
    <section class="container" id="pro-unlock-section" hidden>
      <div class="pro-unlock">
        <h2 class="pro-unlock__title">Welcome back</h2>
        <p class="pro-unlock__text">Enter your email to unlock Pro features.</p>
        <form class="pro-unlock__form" id="pro-unlock-form">
          <input class="pro-unlock__input" id="pro-unlock-input" type="email" placeholder="email@example.com" required autocomplete="email">
          <button class="pro-unlock__submit" id="pro-unlock-submit" type="submit">Unlock</button>
        </form>
        <p class="pro-unlock__error-text" id="pro-unlock-error" hidden></p>
        <p class="pro-unlock__upgrade-link">Don't have Pro? <a href="#" id="pro-unlock-upgrade-link">Upgrade for $9/month</a></p>
      </div>
    </section>

    <!-- === VERIFY SCREEN (Stripe redirect) === -->
    <section class="container verify-screen" id="verify-screen" hidden>
      <div class="verify-screen__spinner"></div>
      <p class="verify-screen__text">Confirming your subscription...</p>
    </section>

    <!-- === MERGE TOOL PANEL === -->
    <section class="container tool-panel" id="merge-panel" hidden>
      <div class="tool-header">
        <button class="tool-header__back" id="merge-back-btn" type="button">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" aria-hidden="true"><line x1="12" y1="8" x2="4" y2="8"/><polyline points="8 4 4 8 8 12"/></svg>
          All tools
        </button>
        <h2 class="tool-header__title">Merge PDFs</h2>
      </div>

      <!-- Usage Counter -->
      <div class="usage-counter" id="merge-usage-counter">
        <span class="usage-counter__text">0 of 25 files used today</span>
        <div class="usage-counter__bar"><div class="usage-counter__fill" style="width: 0%"></div></div>
      </div>

      <!-- Upload Zone -->
      <div class="upload-zone" id="merge-upload-zone" role="button" tabindex="0" aria-label="Upload images or PDFs to merge">
        <svg class="upload-zone__icon" viewBox="0 0 48 48" aria-hidden="true">
          <rect x="14" y="4" width="24" height="32" rx="3" ry="3"/>
          <rect x="10" y="8" width="24" height="32" rx="3" ry="3"/>
          <line x1="22" y1="30" x2="22" y2="18"/>
          <polyline points="16 24 22 18 28 24"/>
        </svg>
        <p class="upload-zone__text">Drop images or PDFs here</p>
        <p class="upload-zone__or">or</p>
        <button class="upload-zone__btn" type="button" id="merge-browse-btn">Browse Files</button>
        <p class="upload-zone__hint" data-pro-hint="PDF and image files (up to 200 MB)">PDF and image files</p>
        <input type="file" accept=".pdf,.png,.jpg,.jpeg,.webp,.gif,.bmp,.tiff,application/pdf,image/png,image/jpeg,image/webp,image/gif,image/bmp,image/tiff" id="merge-file-input" multiple hidden>
      </div>

      <!-- Upgrade Prompt (inline, hidden by default) -->
      <div class="upgrade-prompt" id="merge-upgrade-prompt" hidden>
        <svg class="upgrade-prompt__icon" viewBox="0 0 48 48" aria-hidden="true">
          <rect x="12" y="20" width="24" height="18" rx="3" ry="3"/>
          <path d="M16 20V14a8 8 0 0116 0v6"/>
          <circle cx="24" cy="30" r="2"/>
        </svg>
        <h3 class="upgrade-prompt__title">Daily limit reached</h3>
        <p class="upgrade-prompt__text">You've processed 25 files today. Upgrade to Pro for unlimited access.</p>
        <button class="upgrade-prompt__cta" type="button">Upgrade to Pro &mdash; $9/month</button>
        <p class="upgrade-prompt__fine-print">Your files never leave your browser. Cancel anytime.</p>
      </div>

      <!-- Loaded State -->
      <div id="merge-loaded-state" hidden>
        <div class="toolbar" id="merge-toolbar">
          <button class="toolbar__add" type="button" id="merge-add-more-btn">
            <span class="toolbar__add-icon" aria-hidden="true">+</span>
            Add more files
          </button>
          <button class="toolbar__clear" type="button" id="merge-clear-all-btn">Clear All</button>
          <input type="file" accept=".pdf,.png,.jpg,.jpeg,.webp,.gif,.bmp,.tiff,application/pdf,image/png,image/jpeg,image/webp,image/gif,image/bmp,image/tiff" id="merge-add-file-input" multiple hidden>
        </div>
        <p class="page-summary" id="merge-page-summary"></p>
        <ul class="file-list" id="merge-file-list" role="list"></ul>
        <button class="action-btn" id="merge-combine-btn" type="button" disabled>Merge &amp; Download</button>
      </div>
    </section>

    <!-- === SPLIT TOOL PANEL === -->
    <section class="container tool-panel" id="split-panel" hidden>
      <div class="tool-header">
        <button class="tool-header__back" id="split-back-btn" type="button">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" aria-hidden="true"><line x1="12" y1="8" x2="4" y2="8"/><polyline points="8 4 4 8 8 12"/></svg>
          All tools
        </button>
        <h2 class="tool-header__title">Split PDF</h2>
      </div>

      <!-- Usage Counter -->
      <div class="usage-counter" id="split-usage-counter">
        <span class="usage-counter__text">0 of 25 files used today</span>
        <div class="usage-counter__bar"><div class="usage-counter__fill" style="width: 0%"></div></div>
      </div>

      <div id="split-app">
        <!-- Upload Zone -->
        <div class="upload-zone" id="split-upload-zone" role="button" tabindex="0" aria-label="Upload a PDF file to split">
          <svg class="upload-zone__icon" viewBox="0 0 48 48" aria-hidden="true">
            <path d="M28 4H12a4 4 0 0 0-4 4v32a4 4 0 0 0 4 4h24a4 4 0 0 0 4-4V16L28 4z"/>
            <polyline points="28 4 28 16 40 16"/>
            <line x1="24" y1="34" x2="24" y2="22"/>
            <polyline points="18 28 24 22 30 28"/>
          </svg>
          <p class="upload-zone__text">Drop a PDF here</p>
          <p class="upload-zone__or">or</p>
          <button class="upload-zone__btn" type="button" id="split-browse-btn">Browse Files</button>
          <p class="upload-zone__hint" data-pro-hint="PDF files only (up to 200 MB)">PDF files only</p>
          <input type="file" accept=".pdf,application/pdf" id="split-file-input" hidden>
        </div>

        <!-- Error -->
        <div class="upload-error" id="split-error" hidden role="alert">
          <p class="upload-error__text" id="split-error-text"></p>
        </div>

        <!-- Results (rendered by JS) -->
        <div id="split-results" hidden></div>
      </div>

      <!-- Upgrade Prompt (inline, hidden by default) -->
      <div class="upgrade-prompt" id="split-upgrade-prompt" hidden>
        <svg class="upgrade-prompt__icon" viewBox="0 0 48 48" aria-hidden="true">
          <rect x="12" y="20" width="24" height="18" rx="3" ry="3"/>
          <path d="M16 20V14a8 8 0 0116 0v6"/>
          <circle cx="24" cy="30" r="2"/>
        </svg>
        <h3 class="upgrade-prompt__title">Daily limit reached</h3>
        <p class="upgrade-prompt__text">You've processed 25 files today. Upgrade to Pro for unlimited access.</p>
        <button class="upgrade-prompt__cta" type="button">Upgrade to Pro &mdash; $9/month</button>
        <p class="upgrade-prompt__fine-print">Your files never leave your browser. Cancel anytime.</p>
      </div>
    </section>

  </main>

  <!-- === PRICING MODAL === -->
  <div class="pricing-modal" id="pricing-modal" hidden role="dialog" aria-label="Upgrade to SherlockPDF Pro">
    <div class="pricing-modal__backdrop" id="pricing-backdrop"></div>
    <div class="pricing-modal__content">
      <button class="pricing-modal__close" id="pricing-close-btn" type="button" aria-label="Close pricing">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="3" y1="3" x2="13" y2="13"/><line x1="13" y1="3" x2="3" y2="13"/></svg>
      </button>
      <h2 class="pricing-modal__title">Upgrade to SherlockPDF Pro</h2>

      <div class="pricing-options">
        <div class="pricing-card pricing-card--selected" id="pricing-monthly">
          <div class="pricing-card__label">Monthly</div>
          <div class="pricing-card__price">$9<span class="pricing-card__price-suffix">/month</span></div>
          <div class="pricing-card__billing">Billed monthly</div>
        </div>
        <div class="pricing-card" id="pricing-annual">
          <div class="pricing-card__label">Annual <span class="pricing-card__save-badge">Save 22%</span></div>
          <div class="pricing-card__price">$7<span class="pricing-card__price-suffix">/month</span></div>
          <div class="pricing-card__billing">$84 billed yearly</div>
        </div>
      </div>

      <ul class="pricing-features">
        <li class="pricing-features__item">
          <svg class="pricing-features__check" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 8 7 12 13 4"/></svg>
          Unlimited files (no daily limit)
        </li>
        <li class="pricing-features__item">
          <svg class="pricing-features__check" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 8 7 12 13 4"/></svg>
          Files up to 200 MB
        </li>
        <li class="pricing-features__item">
          <svg class="pricing-features__check" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 8 7 12 13 4"/></svg>
          Batch processing
        </li>
        <li class="pricing-features__item">
          <svg class="pricing-features__check" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 8 7 12 13 4"/></svg>
          No branding on output
        </li>
      </ul>

      <button class="pricing-checkout-btn" id="pricing-checkout-btn" type="button">Continue to checkout</button>
    </div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast" role="alert">
    <span class="toast__text" id="toast-text"></span>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <svg class="footer__logo" viewBox="0 0 400 80" aria-label="Sherlock Labs">
        <defs>
          <linearGradient id="footer-brand-grad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#FB6182"/>
            <stop offset="100%" stop-color="#e8496a"/>
          </linearGradient>
        </defs>
        <g transform="translate(8, 8)">
          <circle cx="28" cy="28" r="22" fill="none" stroke="url(#footer-brand-grad)" stroke-width="4"/>
          <line x1="44" y1="44" x2="60" y2="60" stroke="url(#footer-brand-grad)" stroke-width="4" stroke-linecap="round"/>
          <polyline points="18,22 30,28 18,34" fill="none" stroke="#4ADE80" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
          <rect x="34" y="22" width="3" height="12" rx="1" fill="#ebebeb" opacity="0.85"/>
        </g>
        <g transform="translate(80, 0)">
          <text x="0" y="52" font-family="'SF Mono', 'Fira Code', monospace" font-size="20" font-weight="600" fill="#4ADE80" letter-spacing="1">$</text>
          <text x="22" y="52" font-family="'SF Mono', 'Fira Code', monospace" font-size="28" letter-spacing="1">
            <tspan font-weight="700" fill="#ebebeb">Sherlock</tspan>
            <tspan font-weight="400" fill="#FB6182"> Labs</tspan>
          </text>
        </g>
      </svg>
      <p class="footer__attribution">Built by Sherlock Labs</p>
      <div class="footer__links">
        <a href="#" class="footer__link">Privacy</a>
        <a href="#" class="footer__link">Terms</a>
        <a href="../index.html" class="footer__link">Sherlock Labs</a>
      </div>
    </div>
  </footer>

  <!-- CDN Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
  <script src="https://unpkg.com/jszip@3.10.1/dist/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.6/Sortable.min.js"></script>

  <!-- App Scripts -->
  <script src="js/paywall.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/tools/merge.js"></script>
  <script src="js/tools/split.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
