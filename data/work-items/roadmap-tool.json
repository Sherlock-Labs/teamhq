{
  "projectSlug": "roadmap-tool",
  "taskPrefix": "RT",
  "workItems": [
    {
      "id": "RT-1",
      "title": "User signup and login",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Jonah",
      "priority": "high",
      "createdBy": ""
    },
    {
      "id": "RT-2",
      "title": "Team/workspace management",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Jonah",
      "priority": "high",
      "createdBy": ""
    },
    {
      "id": "RT-3",
      "title": "Create a roadmap",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Alice",
      "priority": "high",
      "createdBy": ""
    },
    {
      "id": "RT-4",
      "title": "Roadmaps Homepage",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Alice",
      "priority": "high",
      "createdBy": ""
    },
    {
      "id": "RT-5",
      "title": "Roadmap settings",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Alice",
      "priority": "medium",
      "createdBy": ""
    },
    {
      "id": "RT-6",
      "title": "Create and manage items",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Alice",
      "priority": "high",
      "createdBy": ""
    },
    {
      "id": "RT-7",
      "title": "Item Card (detail panel)",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Alice",
      "priority": "high",
      "createdBy": ""
    },
    {
      "id": "RT-8",
      "title": "Manage fields",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Jonah",
      "priority": "high",
      "createdBy": ""
    },
    {
      "id": "RT-9",
      "title": "Assign field values to items",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Alice",
      "priority": "medium",
      "createdBy": ""
    },
    {
      "id": "RT-10",
      "title": "Table View",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Alice",
      "priority": "high",
      "createdBy": ""
    },
    {
      "id": "RT-11",
      "title": "Timeline View",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Nina",
      "priority": "high",
      "createdBy": ""
    },
    {
      "id": "RT-12",
      "title": "Milestones",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Nina",
      "priority": "medium",
      "createdBy": ""
    },
    {
      "id": "RT-13",
      "title": "Swimlane View",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Alice",
      "priority": "high",
      "createdBy": ""
    },
    {
      "id": "RT-14",
      "title": "Multiple views per roadmap",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Alice",
      "priority": "high",
      "createdBy": ""
    },
    {
      "id": "RT-15",
      "title": "Filtering",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Alice",
      "priority": "medium",
      "createdBy": ""
    },
    {
      "id": "RT-16",
      "title": "Format Panel",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Alice",
      "priority": "medium",
      "createdBy": ""
    },
    {
      "id": "RT-17",
      "title": "Color palettes",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Alice",
      "priority": "medium",
      "createdBy": ""
    },
    {
      "id": "RT-18",
      "title": "Share roadmap with teammates",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Jonah",
      "priority": "medium",
      "createdBy": ""
    },
    {
      "id": "RT-19",
      "title": "Export to PNG",
      "description": "Client-side PNG export via html-to-image. Export button in toolbar, captures full view content at 2x resolution. Scoped in v1.1 Sprint A.",
      "status": "completed",
      "phase": "v1.1-sprint-a",
      "owner": "Alice",
      "priority": "high",
      "createdBy": "Thomas"
    },
    {
      "id": "RT-20",
      "title": "Share via URL",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Jonah",
      "priority": "medium",
      "createdBy": ""
    },
    {
      "id": "RT-21",
      "title": "Real-time collaborative editing",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Jonah",
      "priority": "high",
      "createdBy": ""
    },
    {
      "id": "RT-22",
      "title": "Real-time activity feed",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Jonah",
      "priority": "low",
      "createdBy": ""
    },
    {
      "id": "RT-23",
      "title": "Application shell and navigation",
      "description": "",
      "status": "completed",
      "phase": "v1.0",
      "owner": "Alice",
      "priority": "high",
      "createdBy": ""
    },
    {
      "id": "RT-24",
      "title": "Link items (dependencies)",
      "description": "Three link types (Blocks/Blocked by, Moves With, Relates To). Dependency arrows on Timeline with right-angle routing and conflict highlighting. New item_links table. CRUD API + WebSocket broadcast. Managed from Item Card Linked Items tab. Scoped in v1.1 Sprint B.",
      "status": "completed",
      "phase": "v1.1-sprint-b",
      "owner": "Alice",
      "priority": "high",
      "createdBy": "Thomas"
    },
    {
      "id": "RT-25",
      "title": "Drag items on Timeline",
      "description": "Horizontal drag (dates), vertical drag (restream), edge resize, snap-to-grid, ghost preview, single-level undo. Scoped in v1.1 Sprint A.",
      "status": "completed",
      "phase": "v1.1-sprint-a",
      "owner": "Alice",
      "priority": "high",
      "createdBy": "Thomas"
    },
    {
      "id": "RT-26",
      "title": "Sub-items",
      "description": "One level of nesting: parent -> children via parentId column on items table. Summary bars on Timeline, indented rows with expand/collapse in Table, count badge on Swimlane cards. Sub-Items tab in Item Card with compact table, drag reorder, add/remove. Max 50 sub-items per parent. Scoped in v1.1 Sprint B.",
      "status": "completed",
      "phase": "v1.1-sprint-b",
      "owner": "Alice",
      "priority": "high",
      "createdBy": "Thomas"
    },
    {
      "id": "RT-27",
      "title": "Key dates",
      "description": "Named date markers within items (e.g., 'Design Complete: Mar 15'). Max 10 per item. Diamond markers on Timeline bars. Key Dates section in Item Card Fields tab with inline editing and auto-save. Key Dates column in Table View showing next upcoming date. New key_dates table. Scoped in v1.1 Sprint B.",
      "status": "completed",
      "phase": "v1.1-sprint-b",
      "owner": "Alice",
      "priority": "medium",
      "createdBy": "Thomas"
    },
    {
      "id": "RT-28",
      "title": "Comments and activity log",
      "description": "Plain-text comments on items with @mentions of roadmap collaborators (owner + shared users). Flat comment list (no threading), max 5000 chars, with edit/delete by author or roadmap owner. New comments table with mentions JSONB. Unified Activity tab in Item Card interleaves comments with system events (created, updated, field_changed, linked, unlinked, sub_item_added, sub_item_removed, key_date_added, key_date_removed). Paginated at 50 entries per page. Optimistic comment submission. Real-time WebSocket push for comments and activity. Collaborators endpoint for @mention picker. No rich text, no file attachments on comments, no email/push notifications in v1. Scoped in v1.1 Sprint C.",
      "status": "completed",
      "phase": "v1.1-sprint-c",
      "owner": "Alice",
      "priority": "medium",
      "createdBy": "Thomas"
    },
    {
      "id": "RT-29",
      "title": "CSV import/export",
      "description": "4-step import wizard: upload CSV (max 5MB, 1000 rows) -> column-to-field mapping with auto-map -> preview first 10 rows with warning highlights -> confirm and batch create. Client-side CSV parsing (PapaParse). Auto-detects 4 date formats (YYYY-MM-DD, MM/DD/YYYY, DD/MM/YYYY, M/D/YYYY). Maps list/multi_select values case-insensitively; unmatched values degrade to null. Creates flat items only (no sub-items, links, or key dates from CSV). New batch import endpoint POST /items/import. Export is fully client-side: generates CSV from loaded items respecting active view filters. Columns: Name, Description, Start Date, End Date, Parent, plus all custom fields. Multi-select semicolon-separated. File named {roadmap-name}-{YYYY-MM-DD}.csv. Scoped in v1.1 Sprint C.",
      "status": "completed",
      "phase": "v1.1-sprint-c",
      "owner": "Alice",
      "priority": "medium",
      "createdBy": "Thomas"
    },
    {
      "id": "RT-30",
      "title": "Presentation mode",
      "description": "Fullscreen read-only view via browser Fullscreen API. Present button in toolbar, Escape to exit, hover view switcher. Scoped in v1.1 Sprint A.",
      "status": "completed",
      "phase": "v1.1-sprint-a",
      "owner": "Alice",
      "priority": "medium",
      "createdBy": "Thomas"
    },
    {
      "id": "RT-31",
      "title": "Fiscal year settings",
      "description": "Account-level fiscal year start month setting in Account Settings page. Stored in existing accounts.fiscal_year_end column (integer 1-12, no schema change). UI dropdown 'Fiscal year starts in' with 12 month options. Display-only: affects Timeline axis labels for Quarters ('FY26 Q1'), Halves ('FY26 H1'), and Years ('FY2026') scales. Months and Weeks scales unaffected. When start is January, no FY prefix (calendar behavior). Does not change date storage, date pickers, Table View dates, CSV dates, or filters. Setting change broadcasts via WebSocket to all account users. Admin-only setting. Scoped in v1.1 Sprint C.",
      "status": "completed",
      "phase": "v1.1-sprint-c",
      "owner": "Alice",
      "priority": "low",
      "createdBy": "Thomas"
    },
    {
      "id": "RT-32",
      "title": "Portfolio roadmaps",
      "description": "Read-only aggregation of 2+ source roadmaps into a single bird's-eye view. New 'type' column on roadmaps table ('standard' | 'portfolio'). New portfolio_sources join table. Portfolio queries items from all source roadmaps at read time (live, no cache). Supported views: Timeline (items color-coded by source, legend in toolbar) and Swimlane (columns = sources or shared field). Table view NOT supported in v1. Click item to navigate to source roadmap. No inline editing, drag, or add-item in portfolio. Max 20 source roadmaps. Portfolio settings: rename, add/remove sources, reorder. Permissions: access = account-level (see portfolio if you see the account). No WebSocket forwarding from sources in v1 (manual refresh). Scoped in v1.1 Sprint D.",
      "status": "completed",
      "phase": "v1.1-sprint-d",
      "owner": "Jonah",
      "priority": "medium",
      "createdBy": "Thomas"
    },
    {
      "id": "RT-33",
      "title": "Collections / folders",
      "description": "Named folders for organizing roadmaps on the homepage. New collections table (account-scoped) and collection_roadmaps many-to-many join table. A roadmap can belong to 0 or many collections. Homepage groups roadmaps by collection as collapsible sections. Uncategorized section for roadmaps not in any collection. CRUD for collections: create, rename, delete (roadmaps not deleted). Add/remove roadmaps via overflow menu or drag-drop. Drag reorder of collections and roadmaps within collections. Max 50 collections per account. Collection names 1-100 chars. Favorites section remains independent at top. When no collections exist, homepage looks unchanged. Scoped in v1.1 Sprint D.",
      "status": "completed",
      "phase": "v1.1-sprint-d",
      "owner": "Sam",
      "priority": "low",
      "createdBy": "Thomas",
      "subtasks": [
        "Added Drizzle schema definitions for collections and collection_roadmaps tables in server/src/db/schema.ts",
        "Created collectionService.ts with 8 functions: listCollections, createCollection, updateCollection, deleteCollection, addRoadmapsToCollection, removeRoadmapFromCollection, reorderCollections, reorderRoadmapsInCollection",
        "Created collections.ts route file with 8 endpoints mounted under /api/v1/collections",
        "Added Collection type and 5 Zod validation schemas to shared types/validation",
        "All collection mutations validate account ownership and enforce 50-collection limit",
        "Add-roadmaps endpoint is idempotent (skips duplicates via existing membership check)",
        "WebSocket events broadcast to account room for real-time sync (collection-created, collection-updated, collection-deleted, collection-roadmaps-changed)",
        "Admin-only for create/update/delete; editor for add/remove roadmaps",
        "Mounted collectionsRouter in server/src/index.ts"
      ],
      "filesChanged": [
        "server/src/db/schema.ts",
        "server/src/services/collectionService.ts",
        "server/src/routes/collections.ts",
        "server/src/index.ts",
        "shared/src/types.ts",
        "shared/src/validation.ts"
      ],
      "decisions": [
        "Admin-only for collection CRUD (create, rename, delete) per Thomas's requirement that viewer-role users cannot manage collections. Editors can add/remove roadmaps from collections.",
        "Reorder endpoint at PATCH /api/v1/collections/reorder is defined before /:id routes to prevent Express matching 'reorder' as a collection ID.",
        "addRoadmapsToCollection is idempotent: silently skips roadmaps already in the collection. This supports the checkbox toggle UI pattern.",
        "Used batch-fetch pattern for listCollections: one query for collections + one query for all memberships, avoiding N+1."
      ]
    },
    {
      "id": "RT-34",
      "title": "Buckets (no-date mode)",
      "description": "Per-roadmap toggle replacing date-based planning with fuzzy time buckets. New bucket_mode boolean column on roadmaps, new buckets table, new bucket_id column on items. Default 3 buckets on enable: Now, Next, Later. Customizable names, add/remove/reorder, max 10 per roadmap. One-way switch in v1: enabling clears all item dates and converts Timeline views to Swimlane. Cannot revert. Swimlane becomes primary view with columns = buckets. Table view shows Bucket column instead of date columns. Item Card shows Bucket dropdown instead of date pickers. Key dates hidden in bucket mode. CSV import/export uses Bucket column instead of dates. Drag between bucket columns to reassign. Scoped in v1.1 Sprint D.",
      "status": "completed",
      "phase": "v1.1-sprint-d",
      "owner": "Jonah",
      "priority": "medium",
      "createdBy": "Thomas"
    },
    {
      "id": "RT-35",
      "title": "Templates",
      "description": "12 built-in roadmap templates stored as static server-side JSON files (no database table). Template picker dialog replaces direct 'New Roadmap' creation: shows card grid with 'Start from Scratch' option + 12 template cards with name, category, thumbnail, description. Categories: Product, Agile, Strategy, Marketing, Design, Engineering, Sales, HR, Operations. Category filter tabs. After selection, name input step. Templates seed: fields + field values, 8-15 items with relative date offsets (computed from creation date), milestone types, milestones, and 2 views. Created roadmap is fully editable with no link back to template. No custom/user-created templates in v1. Scoped in v1.1 Sprint D.",
      "status": "completed",
      "phase": "v1.1-sprint-d",
      "owner": "Sam",
      "priority": "low",
      "createdBy": "Thomas",
      "subtasks": [
        "Created 12 template JSON files in server/src/templates/ covering product, engineering, agile, strategy, marketing, design, sales, hr, and operations categories",
        "Created templateService.ts with listTemplates(), getTemplate(), and applyTemplate() functions",
        "Template files are loaded from disk at startup and cached in a module-level Map for zero-latency reads",
        "applyTemplate runs in a single transaction: creates fields, field values, items with computed dates, milestone types, milestones, and views",
        "View config field references use field names in templates; resolveViewConfig replaces them with actual UUIDs during seeding",
        "Created templates.ts route file with GET /api/v1/templates and GET /api/v1/templates/:id",
        "Extended POST /api/v1/roadmaps to accept optional templateId and seed template data after creation",
        "Added POST /api/v1/roadmaps/:id/apply-template endpoint for applying templates to existing roadmaps",
        "Added Template, TemplateSummary, and related types to shared/src/types.ts",
        "Updated createRoadmapSchema to accept optional templateId",
        "Mounted templatesRouter in server/src/index.ts"
      ],
      "filesChanged": [
        "server/src/templates/product-launch.json",
        "server/src/templates/feature-development.json",
        "server/src/templates/sprint-planning.json",
        "server/src/templates/quarterly-okrs.json",
        "server/src/templates/marketing-campaign.json",
        "server/src/templates/design-system.json",
        "server/src/templates/engineering-roadmap.json",
        "server/src/templates/sales-pipeline.json",
        "server/src/templates/onboarding-program.json",
        "server/src/templates/release-cycle.json",
        "server/src/templates/customer-feedback.json",
        "server/src/templates/event-planning.json",
        "server/src/services/templateService.ts",
        "server/src/routes/templates.ts",
        "server/src/routes/roadmaps.ts",
        "server/src/index.ts",
        "shared/src/types.ts",
        "shared/src/validation.ts"
      ],
      "decisions": [
        "Templates are static JSON files loaded at startup and cached in memory, not stored in the database. This matches the tech approach and keeps templates immutable and version-controlled.",
        "applyTemplate deletes the default Table View created by createRoadmap before inserting template views, avoiding duplicate default views.",
        "Template seeding failure during roadmap creation is non-fatal: the roadmap is created empty and a warning is logged. The client can retry or the user works with a blank roadmap.",
        "resolveViewConfig handles both single-value field references (headerFieldId, colorByFieldId, etc.) and array references (visibleFieldIds) by mapping field names to UUIDs.",
        "Used the tech approach's 12 template catalog (with Andrei's refined IDs, categories, and field specifications) rather than Thomas's preliminary list, since the tech approach is the canonical implementation guide."
      ]
    },
    {
      "id": "RT-36",
      "title": "Feedback and ideas module",
      "description": "",
      "status": "planned",
      "phase": "v2.0",
      "owner": "",
      "priority": "low",
      "createdBy": ""
    }
  ]
}